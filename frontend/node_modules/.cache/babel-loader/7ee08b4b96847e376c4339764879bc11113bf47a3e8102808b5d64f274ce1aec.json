{"ast":null,"code":"// const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000/api';\n\n// export async function fetchJSON(path, options = {}) {\n//   const res = await fetch(`${API_BASE}${path}`, {\n//     headers: { 'Content-Type': 'application/json' },\n//     ...options\n//   });\n//   if (options.body && typeof options.body !== 'string') {\n//     // nothing\n//   }\n//   const data = await res.json().catch(() => ({}));\n//   if (!res.ok) throw new Error(data.error || data.message || 'API error');\n//   return data;\n// }\n\nexport async function fetchJSON(url, options = {}) {\n  const res = await fetch(`http://localhost:5000/api${url}`, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    ...options\n  });\n  if (!res.ok) {\n    const error = await res.json().catch(() => ({\n      message: \"Error\"\n    }));\n    throw new Error(error.message || \"Request failed\");\n  }\n  return res.json();\n}","map":{"version":3,"names":["fetchJSON","url","options","res","fetch","headers","ok","error","json","catch","message","Error"],"sources":["D:/vaishnvai/RailsCrud-assignment/frontend/src/api.js"],"sourcesContent":["// const API_BASE = process.env.REACT_APP_API_BASE || 'http://localhost:5000/api';\n\n// export async function fetchJSON(path, options = {}) {\n//   const res = await fetch(`${API_BASE}${path}`, {\n//     headers: { 'Content-Type': 'application/json' },\n//     ...options\n//   });\n//   if (options.body && typeof options.body !== 'string') {\n//     // nothing\n//   }\n//   const data = await res.json().catch(() => ({}));\n//   if (!res.ok) throw new Error(data.error || data.message || 'API error');\n//   return data;\n// }\n\n\n\nexport async function fetchJSON(url, options = {}) {\n  const res = await fetch(`http://localhost:5000/api${url}`, {\n    headers: { \"Content-Type\": \"application/json\" },\n    ...options\n  });\n\n  if (!res.ok) {\n    const error = await res.json().catch(() => ({ message: \"Error\" }));\n    throw new Error(error.message || \"Request failed\");\n  }\n\n  return res.json();\n}\n\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,OAAO,eAAeA,SAASA,CAACC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EACjD,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,4BAA4BH,GAAG,EAAE,EAAE;IACzDI,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/C,GAAGH;EACL,CAAC,CAAC;EAEF,IAAI,CAACC,GAAG,CAACG,EAAE,EAAE;IACX,MAAMC,KAAK,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO;MAAEC,OAAO,EAAE;IAAQ,CAAC,CAAC,CAAC;IAClE,MAAM,IAAIC,KAAK,CAACJ,KAAK,CAACG,OAAO,IAAI,gBAAgB,CAAC;EACpD;EAEA,OAAOP,GAAG,CAACK,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}