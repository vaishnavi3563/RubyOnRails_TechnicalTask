{"ast":null,"code":"var _jsxFileName = \"D:\\\\vaishnvai\\\\RailsCrud-assignment\\\\frontend\\\\src\\\\pages\\\\EmployeesPage.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// import React, { useEffect, useState } from 'react';\n// import { fetchJSON } from '../api';\n// import EmployeeForm from '../components/EmployeeForm';\n\n// export default function EmployeesPage() {\n//   const [employees, setEmployees] = useState([]);\n//   const [departments, setDepartments] = useState([]);\n//   const [filterDept, setFilterDept] = useState('');\n//   const [editing, setEditing] = useState(null);\n\n//   async function load(deptId) {\n//     const deps = await fetchJSON('/departments');\n//     setDepartments(deps);\n//     const url = deptId ? `/employees?departmentId=${deptId}` : '/employees';\n//     const emps = await fetchJSON(url);\n//     setEmployees(emps);\n//   }\n\n//   useEffect(() => { load(); }, []);\n\n//   async function handleFilter(e) {\n//     e.preventDefault();\n//     await load(filterDept);\n//   }\n\n//   async function handleDelete(id) {\n//     if (!window.confirm('Are you sure?')) return;\n//     await fetchJSON(`/employees/${id}`, { method: 'DELETE' });\n//     await load(filterDept);\n//   }\n\n//   return (\n//     <div>\n//       <h1>Employees</h1>\n//       <button onClick={() => setEditing({})}>New Employee</button>\n\n//       <form onSubmit={handleFilter} style={{ marginTop: 10 }}>\n//         <label>Filter by Department: </label>\n//         <select value={filterDept} onChange={e => setFilterDept(e.target.value)}>\n//           <option value=\"\">All</option>\n//           {departments.map(d => <option key={d._id} value={d._id}>{d.name}</option>)}\n//         </select>\n//         <button type=\"submit\">Filter</button>\n//       </form>\n\n//       <table>\n//         <thead><tr><th>Full Name</th><th>Email</th><th>Department</th><th>Salary</th><th>Actions</th></tr></thead>\n//         <tbody>\n//           {employees.map(emp => (\n//             <tr key={emp._id}>\n//               <td>{emp.first_name} {emp.last_name}</td>\n//               <td>{emp.email}</td>\n//               <td>{emp.department?.name || 'No Dept'}</td>\n//               <td>{emp.salary}</td>\n//               <td>\n//                 <button onClick={() => setEditing(emp)}>Edit</button>\n//                 <button onClick={() => handleDelete(emp._id)}>Delete</button>\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n\n//       {editing && (\n//         <div className=\"modal\">\n//           <EmployeeForm\n//             employee={editing}\n//             departments={departments}\n//             onClose={() => { setEditing(null); load(filterDept); }}\n//           />\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// import React, { useEffect, useState } from 'react';\n// import { fetchJSON } from '../api';\n// import EmployeeForm from '../components/EmployeeForm';\n\n// export default function EmployeesPage() {\n//   const [employees, setEmployees] = useState([]);\n//   const [departments, setDepartments] = useState([]);\n//   const [filterDept, setFilterDept] = useState('');\n//   const [editing, setEditing] = useState(null);\n\n//   async function load(deptId) {\n//     const deps = await fetchJSON('/departments');\n//     setDepartments(deps);\n//     const url = deptId ? `/employees?departmentId=${deptId}` : '/employees';\n//     const emps = await fetchJSON(url);\n//     setEmployees(emps);\n//   }\n\n//   useEffect(() => { load(); }, []);\n\n//   async function handleFilter(e) {\n//     e.preventDefault();\n//     await load(filterDept);\n//   }\n\n//   async function handleDelete(id) {\n//     if (!window.confirm('Are you sure?')) return;\n//     await fetchJSON(`/employees/${id}`, { method: 'DELETE' });\n//     await load(filterDept);\n//   }\n\n//   return (\n//     <div className=\"container mt-4\">\n//       <h2 className=\"text-primary mb-3\">Employees</h2>\n\n//       <button className=\"btn btn-success mb-3\" onClick={() => setEditing({})}>\n//         ➕ New Employee\n//       </button>\n\n//       <form className=\"row g-3 mb-3\" onSubmit={handleFilter}>\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">Filter by Department</label>\n//           <select className=\"form-select\"\n//             value={filterDept}\n//             onChange={e => setFilterDept(e.target.value)}\n//           >\n//             <option value=\"\">All</option>\n//             {departments.map(d => <option key={d._id} value={d._id}>{d.name}</option>)}\n//           </select>\n//         </div>\n//         <div className=\"col-md-2 align-self-end\">\n//           <button className=\"btn btn-primary w-100\" type=\"submit\">Search</button>\n//         </div>\n//       </form>\n\n//       <table className=\"table table-striped table-hover\">\n//         <thead className=\"table-dark\">\n//           <tr><th>Name</th><th>Email</th><th>Department</th><th>Salary</th><th>Actions</th></tr>\n//         </thead>\n//         <tbody>\n//           {employees.map(emp => (\n//             <tr key={emp._id}>\n//               <td>{emp.first_name} {emp.last_name}</td>\n//               <td>{emp.email}</td>\n//               <td>{emp.department?.name || 'No Dept'}</td>\n//               <td>₹ {emp.salary}</td>\n//               <td>\n//                 <button className=\"btn btn-warning btn-sm me-2\" onClick={() => setEditing(emp)}>Edit</button>\n//                 <button className=\"btn btn-danger btn-sm\" onClick={() => handleDelete(emp._id)}>Delete</button>\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n\n//       {editing && (\n//         <div className=\"modal fade show d-block\" style={{ background: \"rgba(0,0,0,0.5)\" }}>\n//           <div className=\"modal-dialog\">\n//             <div className=\"modal-content p-3\">\n//               <EmployeeForm employee={editing} departments={departments} onClose={() => { setEditing(null); load(filterDept); }} />\n//             </div>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n/*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"d-flex gap-2 mt-3\",\n  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n    placeholder: \"Search employee by name or email\",\n    className: \"form-control\",\n    value: searchTerm,\n    onChange: e => setSearchTerm(e.target.value),\n    style: {\n      maxWidth: \"300px\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 3\n  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n    className: \"form-select\",\n    style: {\n      maxWidth: \"200px\"\n    },\n    value: filterDept,\n    onChange: e => setFilterDept(e.target.value),\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"\",\n      children: \"All Departments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }, this), departments.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: d._id,\n      children: d.name\n    }, d._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 27\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 3\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: handleFilter,\n    children: \"Apply\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 3\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: () => {\n      setSearchTerm('');\n      setFilterDept('');\n      load();\n    },\n    children: \"Reset\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 3\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 170,\n  columnNumber: 1\n}, this);","map":{"version":3,"names":["_jsxDEV","className","children","placeholder","value","searchTerm","onChange","e","setSearchTerm","target","style","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","filterDept","setFilterDept","departments","map","d","_id","name","onClick","handleFilter","load"],"sources":["D:/vaishnvai/RailsCrud-assignment/frontend/src/pages/EmployeesPage.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import { fetchJSON } from '../api';\n// import EmployeeForm from '../components/EmployeeForm';\n\n// export default function EmployeesPage() {\n//   const [employees, setEmployees] = useState([]);\n//   const [departments, setDepartments] = useState([]);\n//   const [filterDept, setFilterDept] = useState('');\n//   const [editing, setEditing] = useState(null);\n\n//   async function load(deptId) {\n//     const deps = await fetchJSON('/departments');\n//     setDepartments(deps);\n//     const url = deptId ? `/employees?departmentId=${deptId}` : '/employees';\n//     const emps = await fetchJSON(url);\n//     setEmployees(emps);\n//   }\n\n//   useEffect(() => { load(); }, []);\n\n//   async function handleFilter(e) {\n//     e.preventDefault();\n//     await load(filterDept);\n//   }\n\n//   async function handleDelete(id) {\n//     if (!window.confirm('Are you sure?')) return;\n//     await fetchJSON(`/employees/${id}`, { method: 'DELETE' });\n//     await load(filterDept);\n//   }\n\n//   return (\n//     <div>\n//       <h1>Employees</h1>\n//       <button onClick={() => setEditing({})}>New Employee</button>\n\n//       <form onSubmit={handleFilter} style={{ marginTop: 10 }}>\n//         <label>Filter by Department: </label>\n//         <select value={filterDept} onChange={e => setFilterDept(e.target.value)}>\n//           <option value=\"\">All</option>\n//           {departments.map(d => <option key={d._id} value={d._id}>{d.name}</option>)}\n//         </select>\n//         <button type=\"submit\">Filter</button>\n//       </form>\n\n//       <table>\n//         <thead><tr><th>Full Name</th><th>Email</th><th>Department</th><th>Salary</th><th>Actions</th></tr></thead>\n//         <tbody>\n//           {employees.map(emp => (\n//             <tr key={emp._id}>\n//               <td>{emp.first_name} {emp.last_name}</td>\n//               <td>{emp.email}</td>\n//               <td>{emp.department?.name || 'No Dept'}</td>\n//               <td>{emp.salary}</td>\n//               <td>\n//                 <button onClick={() => setEditing(emp)}>Edit</button>\n//                 <button onClick={() => handleDelete(emp._id)}>Delete</button>\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n\n//       {editing && (\n//         <div className=\"modal\">\n//           <EmployeeForm\n//             employee={editing}\n//             departments={departments}\n//             onClose={() => { setEditing(null); load(filterDept); }}\n//           />\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n\n\n// import React, { useEffect, useState } from 'react';\n// import { fetchJSON } from '../api';\n// import EmployeeForm from '../components/EmployeeForm';\n\n// export default function EmployeesPage() {\n//   const [employees, setEmployees] = useState([]);\n//   const [departments, setDepartments] = useState([]);\n//   const [filterDept, setFilterDept] = useState('');\n//   const [editing, setEditing] = useState(null);\n\n//   async function load(deptId) {\n//     const deps = await fetchJSON('/departments');\n//     setDepartments(deps);\n//     const url = deptId ? `/employees?departmentId=${deptId}` : '/employees';\n//     const emps = await fetchJSON(url);\n//     setEmployees(emps);\n//   }\n\n//   useEffect(() => { load(); }, []);\n\n//   async function handleFilter(e) {\n//     e.preventDefault();\n//     await load(filterDept);\n//   }\n\n//   async function handleDelete(id) {\n//     if (!window.confirm('Are you sure?')) return;\n//     await fetchJSON(`/employees/${id}`, { method: 'DELETE' });\n//     await load(filterDept);\n//   }\n\n//   return (\n//     <div className=\"container mt-4\">\n//       <h2 className=\"text-primary mb-3\">Employees</h2>\n\n//       <button className=\"btn btn-success mb-3\" onClick={() => setEditing({})}>\n//         ➕ New Employee\n//       </button>\n\n//       <form className=\"row g-3 mb-3\" onSubmit={handleFilter}>\n//         <div className=\"col-md-4\">\n//           <label className=\"form-label\">Filter by Department</label>\n//           <select className=\"form-select\"\n//             value={filterDept}\n//             onChange={e => setFilterDept(e.target.value)}\n//           >\n//             <option value=\"\">All</option>\n//             {departments.map(d => <option key={d._id} value={d._id}>{d.name}</option>)}\n//           </select>\n//         </div>\n//         <div className=\"col-md-2 align-self-end\">\n//           <button className=\"btn btn-primary w-100\" type=\"submit\">Search</button>\n//         </div>\n//       </form>\n\n//       <table className=\"table table-striped table-hover\">\n//         <thead className=\"table-dark\">\n//           <tr><th>Name</th><th>Email</th><th>Department</th><th>Salary</th><th>Actions</th></tr>\n//         </thead>\n//         <tbody>\n//           {employees.map(emp => (\n//             <tr key={emp._id}>\n//               <td>{emp.first_name} {emp.last_name}</td>\n//               <td>{emp.email}</td>\n//               <td>{emp.department?.name || 'No Dept'}</td>\n//               <td>₹ {emp.salary}</td>\n//               <td>\n//                 <button className=\"btn btn-warning btn-sm me-2\" onClick={() => setEditing(emp)}>Edit</button>\n//                 <button className=\"btn btn-danger btn-sm\" onClick={() => handleDelete(emp._id)}>Delete</button>\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n\n//       {editing && (\n//         <div className=\"modal fade show d-block\" style={{ background: \"rgba(0,0,0,0.5)\" }}>\n//           <div className=\"modal-dialog\">\n//             <div className=\"modal-content p-3\">\n//               <EmployeeForm employee={editing} departments={departments} onClose={() => { setEditing(null); load(filterDept); }} />\n//             </div>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n\n\n\n<div className=\"d-flex gap-2 mt-3\">\n  \n  <input \n    placeholder=\"Search employee by name or email\"\n    className=\"form-control\"\n    value={searchTerm}\n    onChange={(e) => setSearchTerm(e.target.value)}\n    style={{ maxWidth: \"300px\" }}\n  />\n\n  <select className=\"form-select\" style={{ maxWidth: \"200px\" }}\n    value={filterDept}\n    onChange={(e) => setFilterDept(e.target.value)}\n  >\n    <option value=\"\">All Departments</option>\n    {departments.map(d => <option key={d._id} value={d._id}>{d.name}</option>)}\n  </select>\n\n  <button className=\"btn btn-primary\" onClick={handleFilter}>Apply</button>\n  <button className=\"btn btn-secondary\" onClick={() => { setSearchTerm(''); setFilterDept(''); load(); }}>Reset</button>\n</div>\n"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA,aAAAA,OAAA;EAAKC,SAAS,EAAC,mBAAmB;EAAAC,QAAA,gBAEhCF,OAAA;IACEG,WAAW,EAAC,kCAAkC;IAC9CF,SAAS,EAAC,cAAc;IACxBG,KAAK,EAAEC,UAAW;IAClBC,QAAQ,EAAGC,CAAC,IAAKC,aAAa,CAACD,CAAC,CAACE,MAAM,CAACL,KAAK,CAAE;IAC/CM,KAAK,EAAE;MAAEC,QAAQ,EAAE;IAAQ;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9B,CAAC,eAEFf,OAAA;IAAQC,SAAS,EAAC,aAAa;IAACS,KAAK,EAAE;MAAEC,QAAQ,EAAE;IAAQ,CAAE;IAC3DP,KAAK,EAAEY,UAAW;IAClBV,QAAQ,EAAGC,CAAC,IAAKU,aAAa,CAACV,CAAC,CAACE,MAAM,CAACL,KAAK,CAAE;IAAAF,QAAA,gBAE/CF,OAAA;MAAQI,KAAK,EAAC,EAAE;MAAAF,QAAA,EAAC;IAAe;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACxCG,WAAW,CAACC,GAAG,CAACC,CAAC,iBAAIpB,OAAA;MAAoBI,KAAK,EAAEgB,CAAC,CAACC,GAAI;MAAAnB,QAAA,EAAEkB,CAAC,CAACE;IAAI,GAA5BF,CAAC,CAACC,GAAG;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAgC,CAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpE,CAAC,eAETf,OAAA;IAAQC,SAAS,EAAC,iBAAiB;IAACsB,OAAO,EAAEC,YAAa;IAAAtB,QAAA,EAAC;EAAK;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC,eACzEf,OAAA;IAAQC,SAAS,EAAC,mBAAmB;IAACsB,OAAO,EAAEA,CAAA,KAAM;MAAEf,aAAa,CAAC,EAAE,CAAC;MAAES,aAAa,CAAC,EAAE,CAAC;MAAEQ,IAAI,CAAC,CAAC;IAAE,CAAE;IAAAvB,QAAA,EAAC;EAAK;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACnH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}